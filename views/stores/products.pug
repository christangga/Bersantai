extends ../layout

block content
  <!-- Portfolio Grid Section -->
  <section id="portfolio">
    <div class="container">
      include ../includes/alert.pug

      <div class="row">
        <div class="col-lg-12 text-center">
          <h2>#{store.name} Products</h2>
          <a href="#portfolioModal1" data-toggle="modal">
            <hr class="plus-primary">
          </a>
        </div>
      </div>

      <div class="products">
        if products.length == 0
          <div class="col-xs-12 align-center">
            | No products yet in #{store.name}
          </div>
        else
          each product in products
            <div class="product-card">
              <div class="product-image">
                <img src="/uploads/#{product.photo}" class="img-responsive" alt="">
              </div>
              <div class="product-info">
                <h5>#{product.name}</h5>
                <h6>#{product.price}</h6>
              </div>
            </div>
      </div>
    </div>
  </section>

  <section class="success" id="portfolio">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2>#{store.name} Stories</h2>
          <a href="#portfolioModal2" data-toggle="modal">
            <hr class="plus-light">
          </a>
        </div>
      </div>

      <div class="row">
        if stories.length == 0
          <div class="col-xs-12 align-center">
            | No stories yet
          </div>
        else
          each story in stories
            <div class="col-sm-6 question-item">
              <a href="/stories/#{story.id}" class="question-link-light">
                <div class="caption">
                  <div class="caption-content">
                    <i class="fa fa-search" style="color: rgb(24,188,156);"></i>
                  </div>
                </div>
                <h4>#{story.question}</h4>
              </a>
            </div>
      </div>
    </div>
  </section>

  <section id="portfolio">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2>#{store.name} Setting</h2>
          <hr class="star-primary">

          <form class="form-horizontal" role="form" method="POST" action="/stores/#{store.id}/setting">
            <div class="form-group">
              <label for="subscribe" class="col-md-4 control-label">Subscribe</label>

              <div class="col-md-6">
                <select class="form-control" name="subscribe">
                  <option value="active" #{subscribe ? 'selected' : ''}>Active</option>
                  <option value="inactive"#{subscribe ? '' : 'selected'}>Non Active</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label for="greeting_text" class="col-md-4 control-label">Greeting Text</label>

              <div class="col-md-6">
                <textarea class="form-control" rows="5" name="greeting_text">#{setting.greeting_text}</textarea>
              </div>
            </div>

            <div class="form-group">
              <label for="welcome_message" class="col-md-4 control-label">Welcome Message</label>

              <div class="col-md-6">
                <textarea class="form-control" rows="5" name="welcome_message">#{setting.welcome_message}</textarea>
              </div>
            </div>

            <div class="form-group">
              <label for="contact_message" class="col-md-4 control-label">Contact Message</label>

              <div class="col-md-6">
                <textarea class="form-control" rows="5" name="contact_message">#{setting.contact_message}</textarea>
              </div>
            </div>

            <div class="form-group">
              <label for="tm_config" class="col-md-4 control-label">Template Matching Config</label>

              <div class="col-md-6">
                <textarea class="form-control" rows="5" name="tm_config">#{setting.tm_config}</textarea>
              </div>
            </div>

            <div class="form-group">
              <div class="col-md-6 col-md-offset-4 text-left">
                <button type="submit" class="btn btn-primary">
                  <i class="fa fa-plus" aria-hidden="true"></i> Update
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Portfolio Modals -->
  <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
      <div class="close-modal" data-dismiss="modal">
        <div class="lr">
          <div class="rl">
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2">
            <div class="modal-body">
              <h2>Add Product</h2>
              <hr class="star-primary">

              <form class="form-horizontal" role="form" method="POST" action="/stores/#{store.id}/products" enctype="multipart/form-data">
                <div class="form-group">
                  <label for="name" class="col-md-4 control-label">Name</label>

                  <div class="col-md-6">
                    <input type="text" class="form-control" name="name" required>
                  </div>
                </div>

                <div class="form-group">
                  <label for="description" class="col-md-4 control-label">Description</label>

                  <div class="col-md-6">
                    <input type="text" class="form-control" name="description" required>
                  </div>
                </div>

                <div class="form-group">
                  <label for="color" class="col-md-4 control-label">Color</label>

                  <div class="col-md-6">
                    <input type="text" class="form-control" name="color" required>
                  </div>
                </div>

                <div class="form-group">
                  <label for="photo" class="col-md-4 control-label">Photo</label>

                  <div class="col-md-6">
                    <input type="text" class="form-control" name="photo" required>
                  </div>
                </div>

                <div class="form-group">
                  <label for="category" class="col-md-4 control-label">Category</label>

                  <div class="col-md-6">
                    <input type="text" class="form-control" name="category" required>
                  </div>
                </div>

                <div class="form-group">
                  <label for="size" class="col-md-4 control-label">Size</label>

                  <div class="col-md-6">
                    <input type="text" class="form-control" name="size" required>
                  </div>
                </div>

                <div class="form-group">
                  <label for="price" class="col-md-4 control-label">Price</label>

                  <div class="col-md-6">
                    <input type="number" class="form-control" name="price" required>
                  </div>
                </div>

                <div class="form-group">
                  <label for="quantity" class="col-md-4 control-label">Quantity</label>

                  <div class="col-md-6">
                    <input type="number" class="form-control" name="quantity" value="1" required>
                  </div>
                </div>

                <div class="form-group">
                  <div class="col-md-6 col-md-offset-4 text-left">
                    <button type="submit" class="btn btn-primary">
                      <i class="fa fa-plus" aria-hidden="true"></i> Add
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
      <div class="close-modal" data-dismiss="modal">
        <div class="lr">
          <div class="rl">
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2">
            <div class="modal-body">
              <h2>Edit Stories</h2>
              <hr class="star-primary">

              if all_stories.length == 0
                <div class="col-xs-12 align-center">
                  | No stories yet
                </div>
              else
                <form class="form-horizontal" role="form" method="POST" action="/stores/#{store.id}/stories">
                  <div class="row margin-bot-15">
                    <div class="col-md-4 align-right" style="padding-top: 11px;">
                      <b>Question</b>
                    </div>

                    - var isFirst = true
                    each story in all_stories
                      if isFirst
                        <div class="col-md-6 align-left">
                        - isFirst = false
                      else
                        <div class="col-md-offset-4 col-md-6 align-left">
                      <div class="checkbox">
                        <label><input type="checkbox" name="stories" value="#{story.id}" #{story.is_checked ? 'checked' : ''}>#{story.question}</label>
                      </div>
                      </div>
                  </div>

                  <div class="form-group">
                    <div class="col-md-6 col-md-offset-4 align-left">
                      <button type="submit" class="btn btn-primary">
                        <i class="fa fa-plus" aria-hidden="true"></i> Update
                      </button>
                    </div>
                  </div>
                </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
